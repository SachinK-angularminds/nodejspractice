# neev
A base library for handling routes in **http/https** node js servers.
---
### Installation
```
$ npm install neev
```
---
### Example
```javascript
const http = require("http");

const getHandler = require("neev");

const ROUTES = [
    {
        path: "/1",
        get:[(req, res) => res.end("Page: 1")]
    },
    {
        path: "/2",
        get:[(req, res) => res.end("Page: 2")]
    },
    {
        path: "/name",
        subRoutes: SUB_ROUTES
    }
];

const WILD_CARD_ROUTE = (req, res) => {
    res.writeHead(500).end("Route not found");
};

let SUB_ROUTES = [
    {
        path: "/:id",
        get: [
            (req, res) => res.end(`Your name: ${req.params.id}`)
        ]
    }
];

// creating instance.
const handler = getHandler(ROUTES, WILD_CARD_ROUTE);

// handler.handlerFn is a callback function, has all the logic for handling routes.
const server = http.createServer(handler.handlerFn);

server.listen(
    8080,
    error => console.log(error || `Live @${server.address().port}`)
);
```

### "handler" instance all methods
|name|type|Description|
|:-----|:--------|:----------------|
|**handlerFn**|get function|It returns a **function** which has the logic to execute all the neccessary handler functions for requested url.|
|**patch**|function|It takes one parameter of type **function**, it acts like a middleware, so before executing any of the provided functions, the function inside patch, will be executed first. It can be used for adding any 3rd party features like body-parsing, form-parsing, etc.|

### Explaination
---
'**require("neev")**' returns a function.\
For example,\
**const getHandler = require("neev");**\
**const handler = getHandler(routes, badRoute);**\
Now, routes variable must be an array of object.\
Each key's description is given in the table below.
|Key|type|Description|Example|
|:-----|:--------|:----------------|:---------------|
|**path**|String|It's the route's path.|"/1"|
|**get**|Array of functions|If the request method is **GET**, all functions inside this array will be executed.|[(req, res) => res.end("GET method -> Hello World")]|
|**post**|Array of functions|If the request method is **POST**, all functions inside this array will be executed.|[(req, res) => res.end("POST method -> Hello World")]|
|**put**|Array of functions|If the request method is **PUT**, all functions inside this array will be executed.|[(req, res) => res.end("PUT method -> Hello World")]|
|**patch**|Array of functions|If the request method is **PATCH**, all functions inside this array will be executed.|[(req, res) => res.end("PATCH method -> Hello World")]|
|**delete**|Array of functions|If the request method is **DELETE**, all functions inside this array will be executed.|[(req, res) => res.end("DELETE method -> Hello World")]|
|**middlewares**|Array of functions|All functions inside this array will be executed first before executing any other one.|[(req, res, next) => next()]|
|**subRoutes**|Array of objects|For nested routes, use this key for storing the child routes.|[{ path: "/name", get: [(req, res) => res.end("Name")] }]|

Both the parameters of **getHandler** function are mandatory.\
Now, the second parameter of **getHandler** is a **function**, which basically gets executed when a requested url does not match any of the route's path.\
So, all the functions inside **get**, **post**, **put**, **patch**, **delete**, **middlewares** array or even the second parameter of **getHandler** function, all these functions are traditional functions containing **req** and **res** object with **next** function expression as 3rd parameter.

For example,
```javascript
const handlerFunction = (req, res, next) => {
    // --your logic
    res.end("result");
};
```
### Note for developers
This library has **zero** dependencies, which makes it lightweight.\
It is very easy to create node js servers with this library.\
Also, any 3rd party features like body-parsing, form-data parsing, etc. all can be attached using **patch** function present on the **handler** instance.
